/**
 * Copyright 2025 Mike Odnis
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@import "@nuxt/ui";

/* User-provided lifted OKLCH tokens + existing HSL tokens for backwards compatibility */
:root {
	/* Existing HSL palette (kept for compatibility) */
	--color-primary-hsl: 226, 100%, 55%;
	--color-secondary-hsl: 217, 89%, 61%;
	--color-accent-hsl: 245, 58%, 51%;
	--color-dark-hsl: 210, 11%, 15%;
	--color-text-hsl: 210, 11%, 20%;
	--color-text-muted-hsl: 210, 7%, 50%;
	--color-bg-hsl: 0, 0%, 100%;
	--color-bg-alt-hsl: 210, 17%, 98%;

	--color-primary: hsl(var(--color-primary-hsl));
	--color-secondary: hsl(var(--color-secondary-hsl));
	--color-accent: hsl(var(--color-accent-hsl));
	--color-dark: hsl(var(--color-dark-hsl));
	--color-text: hsl(var(--color-text-hsl));
	--color-text-muted: hsl(var(--color-text-muted-hsl));
	--color-bg: hsl(var(--color-bg-hsl));
	--color-bg-alt: hsl(var(--color-bg-alt-hsl));

	/* --- Lifted OKLCH design tokens (from user) --- */
	/* Base / surfaces */
	--background: oklch(16% 0 285deg);
	--foreground: oklch(94% 0.03 285deg);
	--card: oklch(20% 0.01 285deg);
	--card-foreground: oklch(92% 0.035 285deg);
	--popover: oklch(20% 0.01 285deg);
	--popover-foreground: oklch(92% 0.035 285deg);

	/* Brand */
	--primary: oklch(52% 0.12 285deg);
	--primary-foreground: oklch(22% 0 285deg);
	--secondary: oklch(32% 0.1 285deg);
	--secondary-foreground: oklch(92% 0.035 285deg);
	--accent: oklch(40% 0.12 285deg);
	--accent-foreground: oklch(92% 0.03 285deg);

	/* UI */
	--muted: oklch(28% 0.05 285deg);
	--muted-foreground: oklch(80% 0.04 285deg);
	--destructive: oklch(44% 0.1 27deg);
	--destructive-foreground: oklch(94% 0.02 285deg);
	--border: oklch(26% 0.02 285deg);
	--input: oklch(26% 0.02 285deg);
	--ring: oklch(72% 0.06 285deg);

	/* Charts */
	--chart-1: oklch(72% 0.06 285deg);
	--chart-2: oklch(52% 0.12 285deg);
	--chart-3: oklch(40% 0.12 285deg);
	--chart-4: oklch(90% 0.035 285deg);
	--chart-5: oklch(58% 0.1 285deg);
	--radius: 0.5rem;

	/* Sidebar */
	--sidebar: oklch(14% 0.01 240deg);
	--sidebar-foreground: oklch(92% 0.02 240deg);
	--sidebar-primary: oklch(50% 0.1 230deg);
	--sidebar-primary-foreground: oklch(96% 0 285deg);
	--sidebar-accent: oklch(22% 0.01 240deg);
	--sidebar-accent-foreground: oklch(92% 0.02 240deg);
	--sidebar-border: oklch(24% 0.02 220deg);
	--sidebar-ring: oklch(60% 0.12 230deg);

	/* UI-Nuxt variables (semantic mappings used by Nuxt UI)
	   We expose ui-color tokens so components referencing semantic names work. */
	--ui-color-primary-500: var(--primary);
	--ui-color-secondary-500: var(--secondary);
	--ui-color-accent-500: var(--accent);
	--ui-color-muted-500: var(--muted);
	--ui-color-destructive-500: var(--destructive);

	/* Provide fallbacks for older components that reference --ui-primary */
	--ui-primary: var(--ui-color-primary-500);
	--ui-secondary: var(--ui-color-secondary-500);
	--ui-success: var(--ui-color-accent-500);
	--ui-error: var(--ui-color-destructive-500);
}

/* Dark variant provided by the user */
.dark {
	--background: oklch(14% 0 285deg);
	--foreground: oklch(94% 0.03 285deg);
	--card: oklch(18% 0.01 285deg);
	--card-foreground: oklch(92% 0.035 285deg);
	--popover: oklch(18% 0.01 285deg);
	--popover-foreground: oklch(92% 0.035 285deg);
	--primary: oklch(50% 0.12 285deg);
	--primary-foreground: oklch(20% 0 285deg);
	--secondary: oklch(30% 0.1 285deg);
	--secondary-foreground: oklch(92% 0.035 285deg);
	--accent: oklch(38% 0.12 285deg);
	--accent-foreground: oklch(92% 0.03 285deg);
	--muted: oklch(26% 0.05 285deg);
	--muted-foreground: oklch(80% 0.04 285deg);
	--destructive: oklch(42% 0.1 27deg);
	--destructive-foreground: oklch(94% 0.02 285deg);
	--border: oklch(24% 0.02 285deg);
	--input: oklch(24% 0.02 285deg);
	--ring: oklch(70% 0.06 285deg);
	--chart-1: oklch(70% 0.06 285deg);
	--chart-2: oklch(50% 0.12 285deg);
	--chart-3: oklch(38% 0.12 285deg);
	--chart-4: oklch(90% 0.035 285deg);
	--chart-5: oklch(56% 0.1 285deg);
	--sidebar: oklch(12% 0.01 240deg);
	--sidebar-foreground: oklch(93% 0.02 240deg);
	--sidebar-primary: oklch(48% 0.1 230deg);
	--sidebar-primary-foreground: oklch(98% 0 285deg);
	--sidebar-accent: oklch(20% 0.01 240deg);
	--sidebar-accent-foreground: oklch(93% 0.02 240deg);
	--sidebar-border: oklch(20% 0.01 240deg);
	--sidebar-ring: oklch(60% 0.12 230deg);
}

/* Expose a simple purple palette for Nuxt UI semantic usage.
   We intentionally keep shades equal to the primary token for now
   (safe fallback). You can later replace these with real purple
   shades (50..950) if you want richer variants. */
:root {
	--color-purple-50: var(--primary);
	--color-purple-100: var(--primary);
	--color-purple-200: var(--primary);
	--color-purple-300: var(--primary);
	--color-purple-400: var(--primary);
	--color-purple-500: var(--primary);
	--color-purple-600: var(--primary);
	--color-purple-700: var(--primary);
	--color-purple-800: var(--primary);
	--color-purple-900: var(--primary);
	--color-purple-950: var(--primary);

	/* Map Nuxt UI semantic tokens to purple */
	--ui-color-primary-500: var(--color-purple-500);
	--ui-color-primary-400: var(--color-purple-400);
	--ui-color-primary-600: var(--color-purple-600);
	--ui-color-secondary-500: var(--secondary);
	--ui-color-muted-500: var(--muted);
	--ui-color-destructive-500: var(--destructive);

	/* Backwards-compatible fallbacks */
	--ui-primary: var(--ui-color-primary-500);
}

/* Keep the rest of the file (html, body, component styles) */
html {
	font-family:
		-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
		Cantarell, "Helvetica Neue", sans-serif;
	scroll-behavior: smooth;
	scrollbar-width: none;
	background-color: var(--color-bg);
	color: var(--color-text);
}

html::-webkit-scrollbar {
	display: none;
}

body {
	line-height: 1.6;
	overflow-x: hidden;
	background: transparent;
}

/* Component Styles */
.btn-elysium {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.75rem 1.5rem;
	border-radius: 0.5rem;
	font-weight: 600;
	color: white;
	border: none;
	box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
	transition: all 0.15s;
	background: var(--color-primary);
}

.btn-elysium:hover {
	transform: translateY(-2px);
	box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
	background: hsl(226, 100%, 50%);
}

.card-elysium {
	border-radius: 0.75rem;
	box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
	border: 1px solid rgba(210, 214, 220, 0.6);
	transition: all 0.15s;
	background: var(--color-bg);
}

.card-elysium:hover {
	box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
	border-color: hsl(var(--color-primary-hsl) / 0.2);
}

/* Fix input contrast on white backgrounds */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="url"],
input[type="datetime-local"],
textarea,
select {
	color: #1f2937 !important; /* gray-800 */
	background-color: white !important;
	border-color: #d1d5db !important; /* gray-300 */
}

input[type="text"]::placeholder,
input[type="email"]::placeholder,
input[type="password"]::placeholder,
input[type="url"]::placeholder,
input[type="datetime-local"]::placeholder,
textarea::placeholder {
	color: #9ca3af !important; /* gray-400 */
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="url"]:focus,
input[type="datetime-local"]:focus,
textarea:focus,
select:focus {
	border-color: var(--primary) !important;
	outline: none;
	ring: 2px;
	ring-color: var(--primary);
	ring-opacity: 0.2;
}

/* Readonly inputs should be slightly muted */
input[readonly] {
	background-color: #f9fafb !important; /* gray-50 */
	color: #4b5563 !important; /* gray-600 */
}

/* Card styling improvements */
.card,
[class*="card"] {
	border-color: #e5e7eb !important; /* gray-200 */
}

/* Remove unusual focus rings and borders from form containers */
form {
	outline: none !important;
}

/* Better form field styling */
.form-group,
.space-y-4 > div,
.space-y-6 > div {
	outline: none !important;
}

/* Improve UCard component borders */
div[class*="border-primary"],
div[class*="ring-primary"] {
	border-color: #e5e7eb !important;
	ring-color: transparent !important;
}

/* Purple border on hover for cards */
.hover\:border-purple-200:hover {
	border-color: #e9d5ff !important; /* purple-200 */
}

/* Success state styling */
.border-green-200 {
	border-color: #bbf7d0 !important;
}

.border-green-300 {
	border-color: #86efac !important;
}

.bg-green-50 {
	background-color: #f0fdf4 !important;
}

/* Focus visible for accessibility */
*:focus-visible {
	outline: 2px solid var(--primary);
	outline-offset: 2px;
}

input:focus-visible,
textarea:focus-visible,
select:focus-visible {
	outline: none;
}
